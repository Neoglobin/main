# Тема 10. Декораторы и исключения.
Отчет по Теме #10 выполнил(а):
- Левин Александр Евгеньевич
- ИНО ОЗБ ПОАС 22-2

| Задание | Лаб_раб | Сам_раб |
| ------ | ------ | ------ |
| Задание 1 | - | + |
| Задание 2 | - | + |
| Задание 3 | - | + |
| Задание 4 | - | + |
| Задание 5 | - | + |

знак "+" - задание выполнено; знак "-" - задание не выполнено;

Работу проверили:
- к.э.н., доцент Панов М.А.

## Самостоятельная работа №1

```python
import time
def fib_decore(func):
    def wrapper(*args, **kwargs):
        start_time = time.time()
        result = func(*args, **kwargs)
        end_time = time.time()

        execution_time = end_time - start_time
        print(f"Время выполнения: {execution_time:.6f} секунды")
        return result
    return wrapper

@fib_decore
def fibonacci():
    fib1 = fib2 = 1

    for i in range(2, 200):
        result = 0
        fib1, fib2 = fib2, fib1 + fib2
        result = fib2
    print(f"Результат равен: {result}")

if __name__ == '__main__':
    fibonacci()
```
### Результат.
![Меню](https://github.com/Neoglobin/main/blob/%D0%A2%D0%B5%D0%BC%D0%B0_10/pic/Sam10_1.png)

## Самостоятельная работа №2

```python
def file_reading(filename, method):
    try:
        with open(filename, method) as file:
            result = file.read()
            if len(result) == 0:
                raise IOError("Файл пуст")

            print(result)

    except(IOError) as e:
        print(f"ERROR: {e}")

file_reading("empty.txt", "r")
file_reading("filled.txt", "r")
```
### Результат.
![Меню](https://github.com/Neoglobin/main/blob/%D0%A2%D0%B5%D0%BC%D0%B0_10/pic/Sam10_2.png)

## Самостоятельная работа №3

```python
def sum():
    try:
        val = int(input("Введите число: "))
        result = 2 + val
        print(result)

    except(ValueError):
        print(f"ERROR: Неподходящий тип данных. Ожидалось число")

sum()
```
### Результат.
![Меню](https://github.com/Neoglobin/main/blob/%D0%A2%D0%B5%D0%BC%D0%B0_10/pic/Sam10_3.png)

## Самостоятельная работа №4

```python 
import math
import functools
def precision_decorator(precision):
    """
    Декоратор для округления результатов выполнения функции до указанной точности.

    :param precision: Желаемая точность (количество десятичных знаков).
    """
    def decorator(func):
        @functools.wraps(func)
        def wrapper(*args, **kwargs):
            # Вызываем исходную функцию
            result = func(*args, **kwargs)

            # Округляем результат до указанной точности
            rounded_result = round(result, precision)

            return rounded_result

        return wrapper

    return decorator

# Пример использования декоратора для функции вычисления площади круга
@precision_decorator(precision=2)
def calculate_circle_area(radius):
    """
    Функция для вычисления площади круга по заданному радиусу.

    :param radius: Радиус круга (вещественное число).
    :return: Площадь круга (вещественное число).
    """
    try:
        if radius <= 0:
            raise ValueError("Радиус должен быть положительным числом.")
        return math.pi * (radius ** 2)
    except(ValueError) as e:
        print(f"ERROR: {e}")
@precision_decorator(precision=2)
def calculate_sphere_volume(radius):
    """
    Функция для вычисления объема шара по заданному радиусу.

    :param radius: Радиус шара (вещественное число).
    :return: Объем шара (вещественное число).
    """
    try:
        if radius <= 0:
            raise ValueError("Радиус должен быть положительным числом.")

        volume = (4 / 3) * math.pi * (radius ** 3)
        return volume
    except(ValueError) as e:
        print(f"ERROR: {e}")


print(calculate_circle_area(3.5))
print(calculate_sphere_volume(4))
print(calculate_sphere_volume(-10))
```
### Результат.
![Меню](https://github.com/Neoglobin/main/blob/%D0%A2%D0%B5%D0%BC%D0%B0_10/pic/Sam10_4.1.png)

![Меню](https://github.com/Neoglobin/main/blob/%D0%A2%D0%B5%D0%BC%D0%B0_10/pic/Sam10_4.2.png)

![Меню](https://github.com/Neoglobin/main/blob/%D0%A2%D0%B5%D0%BC%D0%B0_10/pic/Sam10_4.3.png)

## Самостоятельная работа №5

```python 
class NegativeNumberError(Exception):
    """Исключение, возникающее при попытке использования отрицательного числа."""
    def __init__(self, number):
        self.number = number
        super().__init__(f"Отрицательное число {number} не допускается.")

def divide_positive_numbers(a, b):
    if b <= 0:
        raise NegativeNumberError(b)
    return a / b

try:
    result = divide_positive_numbers(10, -2)
    print(f"Результат деления: {result}")
except NegativeNumberError as e:
    print(f"Ошибка: {e}")

def get_positive_number():
    number = float(input("Введите положительное число: "))
    if number <= 0:
        raise NegativeNumberError(number)
    return number

try:
    user_number = get_positive_number()
    print(f"Вы ввели положительное число: {user_number}")
except NegativeNumberError as e:
    print(f"Ошибка: {e}")

divide_positive_numbers(10, -10)
get_positive_number()
```
### Результат.
![Меню](https://github.com/Neoglobin/main/blob/%D0%A2%D0%B5%D0%BC%D0%B0_10/pic/Sam10_5.1.png)

![Меню](https://github.com/Neoglobin/main/blob/%D0%A2%D0%B5%D0%BC%D0%B0_10/pic/Sam10_5.2.png)
